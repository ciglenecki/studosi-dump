{
  "title": "[NMIBP] 2. doma캖a zada캖a - 2020/2021",
  "creator": "Amon",
  "slug": "nmibp-2-domaca-zadaca-20202021",
  "tags": [
    "FER",
    "Napredni modeli i baze podataka",
    "Zada캖e"
  ],
  "posts": {
    "83643": {
      "poster": "Amon",
      "content": "Thread za 2. dz\n\nMo쬰 pomo캖?\n\n![](assets/2020-10-23/00012.png)\n\n![](assets/2020-10-23/00013.png)",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "83665": {
      "poster": "janeromero (Serial Number Q5U4EX7YY2E9N)",
      "content": "[DZ2/2zad - rekurzije]\n\n![](assets/2020-10-23/00015.png)\n\nZna li netko za코to ovo nije dobro? Mu캜i me 코to su prva 4 rezultata to캜na a tek 5. ne valja...",
      "votes": {
        "upvoters": [
          "janeromero (Serial Number Q5U4EX7YY2E9N)"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "83938": {
      "poster": "korisnik1",
      "content": "@Amon#83643 prema primjeru, trebalo bi cntDistCountry sortirati silazno\n\nmedutim, ja imam zadatak s gradom i uz skoro isti upit, dolazi mi graska da 19. red nije ispravan, a ako stavim sortiranje i prema last name onda 21. red nije ispravan",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84479": {
      "poster": "behappy98",
      "content": "@janeromero#83665 jesi uspio skuzit u cemu je problem?",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84515": {
      "poster": "janeromero (Serial Number Q5U4EX7YY2E9N)",
      "content": "@behappy98#84479 nisam jos. i ovo mi je oduzelo previse vremena tak da stvarno nemam ideja sta bi jos moglo bit",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84556": {
      "poster": "korisnik1",
      "content": "@Amon#83643 https://github.com/studosi-fer/NMBP/blob/master/zadace/dz-1/2020-21/by_lara/NMIBP_2020-21_dz-1_rjesenja_zadatak-5.sql evo isti takav, samo s filmovima",
      "votes": {
        "upvoters": [
          "Amon",
          "BrankoBrancin"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84576": {
      "poster": "Amon",
      "content": "@korisnik1#84556 god bless you and god bless @lara \n\nPrevi코e 쬴vaca sam izgubio na ovu glupost",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [
          "lara"
        ],
        "wtf": [],
        "tuga": []
      }
    },
    "84584": {
      "poster": "janeromero (Serial Number Q5U4EX7YY2E9N)",
      "content": "![](assets/2020-10-26/00036.png)\n\ngod bless i @Amon  i @korisnik1 i @lara i sve vas u studiju i reziji pozzzzzzz",
      "votes": {
        "upvoters": [
          "Amon"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [
          "lara"
        ],
        "wtf": [],
        "tuga": []
      }
    },
    "84589": {
      "poster": "keykey",
      "content": "![](assets/2020-10-26/00037.png)\n\nako itko ima ovakav zadatak pls pomoc",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84602": {
      "poster": "Patak007",
      "content": "![](assets/2020-10-27/00005.png)\n\nJel ima netko slican zadatak... Buni me ovaj rankCompany atribut jer nemam blage veze sto bi on trebao predstavljati i kako da do캠em do njega posto u cijeloj shemi baze ne vidim tablicu Company ili ikakve atribute koji bi upucivali tko je u kojoj firmi",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84606": {
      "poster": "aKul (Vili Bero코)",
      "content": "Zna neko u cemu grijesim?\n\n![](assets/2020-10-27/00007.png)",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84626": {
      "poster": "janeromero (Serial Number Q5U4EX7YY2E9N)",
      "content": "@Patak007#84602 da ba코 gledam... mo쬯a rank() OVER (PARTITION BY store_id....)? jedino 코to mene asocira da bi bilo pribli쬹o firmi",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84648": {
      "poster": "mentally_disturbed_llama",
      "content": "@Patak007#84602 Company se odnosi na cijelu bazu dvdrent, nema코 posebnu tablicu.",
      "votes": {
        "upvoters": [
          "janeromero (Serial Number Q5U4EX7YY2E9N)"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84650": {
      "poster": "Amon",
      "content": "@Patak007#84602 To ti ide rank() OVER (ORDER BY SUM(amount) DESC)\n\nBasically samo rangira코 koji zaposlenik je skupio najvi코e jer ti je zadnji stupac SUM(amount)\n\nZa ovaj country dio ti ide rank() OVER (PARTITION BY country ORDER BY SUM(amount) DESC)",
      "votes": {
        "upvoters": [
          "Patak007",
          "janeromero (Serial Number Q5U4EX7YY2E9N)"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84656": {
      "poster": "keykey",
      "content": "Evo i mog doprinosa, hvala kolegama u temi i @Amon na pomoci!\n\n![](assets/2020-10-27/00012.png)\n >! ```\n >WITH RECURSIVE employees\nAS\n( (SELECT staff.staff_id, staff.sup_staff_id, staff.last_name, staff.first_name, staff.store_id, payment.amount\n \tFROM staff, rental, payment\n \tWHERE staff.staff_id = rental.staff_id AND payment.rental_id = rental.rental_id)\n\tUNION ALL\n  (SELECT staff.staff_id, staff.sup_staff_id, staff.last_name, staff.first_name, staff.store_id, employees.amount\n\tFROM staff, employees\n    WHERE staff.staff_id = employees.sup_staff_id)\n )\nSELECT rank() OVER (ORDER BY SUM(employees.amount) DESC) AS rankCompany,\n\t  rank() OVER (PARTITION BY store ORDER BY SUM(employees.amount) DESC) AS rankStore,\n      employees.staff_id, employees.last_name AS lname, employees.first_name AS fname,\n\t  SUM(employees.amount) AS totAmnt\nFROM employees NATURAL JOIN store\nGROUP BY store_id, employees.staff_id, employees.last_name, employees.first_name\nORDER BY rankCompany, rankStore;\n\n![](assets/2020-10-27/00013.png)\n>! ``` \n>WITH RECURSIVE zaposlenici(staff_id, lname, fname, zaposlenik, adresa)\nAS\n(\nSELECT staff_id, last_name, first_name, staff_id, address_id\nFROM staff\nUNION\nSELECT zaposlenici.staff_id, lname, fname, staff.staff_id, staff.address_id\nFROM zaposlenici, staff\nWHERE zaposlenik = sup_staff_id\n)\nSELECT\nzaposlenici.staff_id,\nlname,\nfname,\nCOUNT(DISTINCT country) AS cntDistCountry\nFROM zaposlenici, address, city, country\nWHERE zaposlenici.staff_id != zaposlenici.zaposlenik AND\naddress.address_id = zaposlenici.\nadresa\nAND city.city_id = address.city_id\nAND country.country_id = city.country_id\nGROUP BY zaposlenici.staff_id, lname, fname\nORDER BY cntDistCountry\n\n![](assets/2020-10-27/00014.png)\n>! ```\n>SELECT title, array_agg(DISTINCT country ORDER BY country)\nFROM inventory, film, store, address, city, country\nWHERE inventory.film_id = film.film_id\nAND inventory.store_id = store.store_id\nAND store.address_id = address.address_id\nAND address.city_id = city.city_id\nAND city.country_id = country.country_id\nAND similarity(title, 'videotejp') > 0.15\nGROUP BY title\nORDER BY title;",
      "votes": {
        "upvoters": [
          "aKul (Vili Bero코)",
          "gamigugi",
          "narval13068 (Dima)"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84841": {
      "poster": "gamigugi",
      "content": "Evo moj 3., prva dva su ista ko od @keykey (hvala). Mozda je nesto visak al umoran sam.\n\n![](assets/2020-10-27/00040.png)\n>! WITH RECURSIVE zaposlenici(staff_id, lname, fname, zaposlenik) AS (\n\n\tSELECT staff_id, last_name, first_name, staff_id\n\n\tFROM staff\n\n\tUNION\n\n\tSELECT zaposlenici.staff_id, lname, fname, staff.staff_id\n\n\tFROM zaposlenici, staff\n\n\tWHERE zaposlenik = sup_staff_id\n\n)\n\nSELECT zaposlenici.staff_id, lname, fname, COUNT(DISTINCT country.country) AS cntDistCountry\n\nFROM zaposlenici, address, city, country, rental, customer\n\nWHERE zaposlenik = rental.staff_id and rental.customer_id = customer.customer_id and address.address_id = customer.address_id\n\nAND city.city_id = address.city_id\n\nAND country.country_id = city.country_id\n\nGROUP BY zaposlenici.staff_id, lname, fname",
      "votes": {
        "upvoters": [
          "Rudee",
          "gamigugi",
          "hotpanties"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84848": {
      "poster": "ton6 (toto6)",
      "content": "Evo i moji koji su razli캜iti\n\n![](assets/2020-10-27/00043.png)\n\n>! SELECT title, array_agg(concat_ws('-', category.category_id, category.name) ORDER BY category) AS categories\n\nFROM film, film_category, category\n\nWHERE film.film_id = film_category.film_id\n\nAND film_category.category_id = category.category_id\n\nAND similarity(title, 'kontrol') > 0.15\n\nGROUP BY title\n\nORDER BY title; \n\n![](assets/2020-10-27/00044.png)\n\n>! WITH RECURSIVE zaposlenici(staff_id, lname, fname, zaposlenik)\n\nAS\n\n(\n\n    SELECT staff_id, last_name, first_name, staff_id\n\n    FROM staff\n\n    UNION\n\n    SELECT zaposlenici.staff_id, lname, fname, staff.staff_id\n\n    FROM zaposlenici, staff WHERE zaposlenik = sup_staff_id\n\n)\n\nSELECT \n\n\trank() OVER (ORDER BY COUNT(DISTINCT title) DESC) as rank,\n\n\tzaposlenici.staff_id, lname, fname, COUNT(DISTINCT title) AS cntDistFilm\n\nFROM zaposlenici, rental, inventory, film\n\nWHERE zaposlenik = rental.staff_id\n\nAND inventory.inventory_id = rental.inventory_id\n\nAND inventory.film_id = film.film_id\n\nGROUP BY zaposlenici.staff_id, lname, fname\n\nORDER BY staff_id",
      "votes": {
        "upvoters": [
          "hotpanties"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84870": {
      "poster": "Rudee",
      "content": "![](assets/2020-10-28/00001.png)\n\nVidi li netko 코to je tu krivo?",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84872": {
      "poster": "Arfit",
      "content": "@Rudee#84870 e taj sam ja imao i doslovno sam isprobavao sve moguce vrijednosti za taj prag slicnosti i kad sam stavio similarity > 0.06 odjednom sam dobio correct 游땏 \n\nProbaj dakle sa 0.06, mozda trebas jos i order by count()",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84875": {
      "poster": "Rudee",
      "content": "@Arfit#84872 ![](assets/2020-10-28/00002.png)\n\nNe radi :(. Vjerojatno kod tebe ima ne코to jo코 druga캜ije.  Ako promjenim similarity > 0.1 onda mi je uneven row count, mislim da countam ne코to krivo ali ne vidim 코to.",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84879": {
      "poster": "Arfit",
      "content": "@Rudee#84875 Ne mogu sad vi코e otvorit review kad sam predo, ali po sjecanju mislim da je doslovno isti tekst zadatka, moguce da grijesim, ne sjecam se sto je bilo drugacije ..\n\nSpremam si sva rjesenja zadaca pa imam upit koji je meni prosao, probaj pejstat, ako ne prode, onda ne znam vise 游때 \n\n`SELECT city, count (customer_id) AS countAdr\n\nFROM customer, address, city\n\nWHERE customer.address_id = address.address_id AND address.city_id = city.city_id AND \n\nsimilarity(address, 'dryve') > 0.06\n\nGROUP BY city\n\norder by countAdr desc`",
      "votes": {
        "upvoters": [
          "DuckItUp",
          "Rudee"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84882": {
      "poster": "Rudee",
      "content": "@Arfit#84879 legendoooooo radi. Izgleda da sam join krivo napravio pa mi je countalo krivo sad radi. tnx tnx tnx\n\n![](assets/2020-10-28/00004.png)",
      "votes": {
        "upvoters": [
          "Arfit"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [
          "Arfit"
        ],
        "wtf": [],
        "tuga": []
      }
    },
    "84892": {
      "poster": "narval13068 (Dima)",
      "content": "![](assets/2020-10-28/00006.png)\n\n![](assets/2020-10-28/00007.png)\n\nJeli vidi neko mozda pogresku :/",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "84897": {
      "poster": "emrys (Scofield)",
      "content": "@narval13068#84892 Imao sam isti, previ코e puno vremena potro코io na njega da bi na kraju vidio da se nalazi tu: https://github.com/studosi-fer/NMBP/blob/master/zadace/dz-1/2020-21/by_lara/NMIBP_2020-21_dz-1_rjesenja_zadatak-2.sql",
      "votes": {
        "upvoters": [
          "narval13068 (Dima)"
        ],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "85010": {
      "poster": "kivu",
      "content": "![](assets/2020-10-28/00017.png)\n\n![](assets/2020-10-28/00018.png)\n\nZna netko?",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "85139": {
      "poster": "-Ivan- (Ivan캜ica)",
      "content": "Bilo je sli캜nih ali nitko nije stavio ba코 ovaj, tak da evo to캜na rje코enja\n\n![](assets/2020-10-28/00028.png)",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    },
    "85181": {
      "poster": "janeromero (Serial Number Q5U4EX7YY2E9N)",
      "content": "@kivu#85010 Imah isti, evo rje코enja : ![](assets/2020-10-29/00005.png)",
      "votes": {
        "upvoters": [],
        "downvoters": []
      },
      "reactions": {
        "haha": [],
        "wtf": [],
        "tuga": []
      }
    }
  }
}